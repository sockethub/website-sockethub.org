<!DOCTYPE html>
<html lang="en">
 <head>
  <title>sockethub</title>
  <meta property="og:image" content="img/sockethub-logo.png" />
  <meta property="og:type" content="website">
  <meta property="og:title" content="Sockethub - a polyglot messaging service." />
  <meta property="og:site_name" content="Sockethub" />
  <meta property="og:description" content="The polyglot solution to the federated social web." />

  <meta name="title" content="Sockethub - a polyglot messaging service." />
  <meta name="description" content="The polyglot solution to the federated social web." />
  <meta name="keywords" content="federated social web, messaging, protocols, api, open source, facebook, twitter" />

  <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css">
  <link href="css/main.css" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="favicon.ico" />
  <link rel="image_src" type="image/jpeg" href="img/sockethub-logo.png" />
  <link rel="canonical" href="http://sockethub.org/" />

  <script type="text/javascript">
/* <![CDATA[ */
(function() {
  var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
  s.type = 'text/javascript';
  s.async = true;
  s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
  t.parentNode.insertBefore(s, t);
})();
/* ]]> */
  </script>
 </head>

 <body>
  <div class="container-fluid">

    <div class="row-fluid">
      <div class="span12">
        <h1><img src="img/sockethub-logo.svg" alt="sockethub"/></h1>
      </div>
    </div>

    <div class="row-fluid page page-top">
      <div class="span2">
        <p></p>
      </div>

      <div class="span5 about">
<p>Using Sockethub is simple: first of all, run it on localhost. To do this:</p>
<ul style="text-align:left">
  <li>git clone https://github.com/sockethub/sockethub.git</li>
  <li>git checkout v0.0.7</li>
  <li>cp config.js.sample config.js</li>
  <li>cp config.secrets.js.sample config.secrets.js</li>
  <li>npm install #assumes you have nodejs installed</li>
  <li>./bin/sockethub</li>
<p>Now, in your unhosted web app, include the <a href="https://raw.github.com/sockethub/sockethub-client/fbd1b5492565281476a61316b2fc91f649de91bb/sockethub-client.js">sockethub-client.js</a> script, and then the following sequence connects to sockethub, sets your Twitter credentials, and fetches your tweets:</p>
<pre style="width:600px"><code>
var sockethubClient = SockethubClient.connect('ws://localhost:10550/sockethub', {
  register: { 
    secret: '1234567890' 
  }
});
sockethubClient.on('message', function(response) {
  console.log('message!', response);
});
sockethubClient.on('registration-failed', function(response) {
  console.log('not registered!');
  alert(response);
});
sockethubClient.on('registered', function() {
  console.log('registered!');
  sockethubClient.set('twitter', {credentials: {me: {
    consumer_key: '',
    consumer_secret: '',
    access_token: '',
    access_token_secret: ''
  }}}).then(function() {
    sockethubClient.sendObject({
      platform: 'twitter',
      verb: 'fetch',
      actor: {address: 'me'},
      target: {}
    }).then(function (response) {
      console.log('post sucessful, heres the response: ', response);
    }, function (err) {
      console.log('oh no! ', err);
    }, function(err) {
      alert(err);
    });
  });
});
</code></pre>
<p>The 4 values you have to put in for the Twitter credentials can be obtained by <a href="https://dev.twitter.com/apps/new">registering a Twitter app</a> and then also generating an access token. Now watch the console. the 'SEND', 'CONFIRM' and 'RECEIVE' messages are generated by the sockethub client, the 'message!' log messages by the above code.</p>
<p>KNOWN BUG: if you refresh the page, it won't work, no tweets will be fetched. Refresh again repeatedly and you will see it works once every two page refreshes. We are looking into this.</p>
<p class="github"><a href="http://github.com/sockethub/sockethub"><img src="img/github-icon.png" /></a> <a href="http://github.com/sockethub/sockethub">code hosted on github</a></p>
</body>
</html>

